<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Installing Herbgrind</title>
  <base href="../.."/>
  <link rel='stylesheet' type='text/css' href='main.css'>
</head>
<body>
  <header>
    <a href="."><img class="logo" src="logo.png" /></a>
    <h1>Installing Herbgrind</h1>
  </header>

  <p>
    <a href=".">Herbgrind</a> depends
    on <a href="http://valgrind.org">Valgrind</a>, a binary
    instrumentation and memory analysis framework. To install
    Herbgrind, you must first install a C compiler and
    GNU <code>awk</code> and <code>sed</code>.
  </p>
  
  <p class="note">
    Herbgrind is <strong>Î±</strong> software. It is currently known to
    work only on 64-bit GNU Linux platforms. Support for 32-bit
    architectures, for OS X, for Clang, and for BSD core tools is
    still in progress. Please <a href="https://github.com/uwplse/herbgrind/issues">file a bug</a>
    if Herbgrind does not work on your system.
  </p>

  <h2>Installing GNU AWK and Sed</h2>

  <p>
    Herbgrind currently supports 64-bit GNU Linux with GCC; OS X has
    known bugs, and other configurations are untested. On Linux,
    install GCC, AWK, and Sed using distro-provided packages; on
    Debian-derivatives, use the <code>build-essentials</code> pacakge:
  </p>
  
  <pre>sudo apt-get install build-essentials</pre>

  <p>
    On OS X, the same tools can be installed using <a href="https://brew.sh">Homebrew</a>:
  </p>

  <pre>brew install gawk
brew install gnu-sed --with-default-names
brew install gcc</pre>
  
  <p>You will also want the XCode Command-line Tools on OSX, which you can install with:</p>

  <pre>xcode-select --install</pre>
  
  <h2>Installing Herbgrind</h2>

  <p>
    Once the GNU tools are installed, download the Herbgrind source
    <a href="https://github.com/uwplse/herbgrind">from GitHub</a> with:
  </p>

  <pre>git clone https://github.com/uwplse/herbgrind</pre>

  <p>
    If you go to the <code>herbgrind</code> directory,
    you should see a <code>README.md</code> file, a directory named <code>herbgrind</code>,
    a directory named <code>bench/</code>, and a variety of other directories.
    You should also see a <code>Makefile</code>. Make the binary with:
  </p>

  <pre>make compile</pre>

  <p>
    This command will take approximately ten minutes to run for the first time,
      since it will download and build a custom Valgrind fork.
    You may want to set the following Make variables;
  </p>
  
  <dl>
    <dt><code>TARGET_PLAT</code></dt>
    <dd>The platform you want to run Herbgrind on; the default
    is <code>amd64-darwin</code> on OS X and <code>amd64-linux</code>
    otherwise.</dd>
    <dt><code>ARCH_PRIM</code> and <code>ARCH_SEC</code></dt>
    <dd>The primary and secondary architecture versions, which you
    will want to set for some 64+32-bit configurations. The default
    is <code>amd64</code> primary and no secondary.</dd>
  </p>

  <p>You can also configure without compiling using <code>make setup</code>.</p>

  <p>
    Once Herbgrind is installed and working correctly,
    check out the <a href="doc/1.0/using-herbgrind.html">usage instructions</a>.
  </p>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-65215143-1', 'auto'); ga('send', 'pageview');
  </script>
</body>
</html>
