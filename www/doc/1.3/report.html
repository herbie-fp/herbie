<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Herbie reports</title>
  <link rel='stylesheet' type='text/css' href='../../main.css'>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script type="text/javascript" src="toc.js"></script>
</head>
<body>
  <header>
    <h1>Herbie reports</h1>
    <a href="../../"><img class="logo" src="../../logo-car.png" /></a>
    <nav>
      <ul>
        <li><a href="../../demo/">Try</a></li>
        <li><a href="installing.html">Install</a></li>
        <li><a href="tutorial.html">Learn</a></li>
      </ul>
    </nav>
  </header>

  
  <h1>The Herbie report</h1>

  <p>Herbie can <a href="using-web.html">generate HTML reports</a>
  which give its output expression and also how Herbie found it.</p>

  <h2 id="summary">Summary numbers</h2>

  <p>First, a brief summary of the results. For most uses, the
    “Average Error” number, which summarizes how accurate the input
    and output expressions are, is the most important number in this
    section. The other numbers list time Herbie took to improve the
    program and the <a href="input.html#precisions">precision</a> of
    floating-point operations.
  </p>

  <figure>
    <img width="100%" src="report-large.png" />
    <figcaption>Summary numbers from a Herbie report.</figcaption>
  </figure>

  <h2 id="programs">Input and output programs</h2>

  <p>Second, the input and output programs themselves. These are
  printed in standard mathematical syntax. In the top-right corner,
  the drop-down can be used to change to C syntax or raw TeX.</p>

  <figure>
    <img width="100%" src="report-prog.png" />
    <figcaption>Input and output program from a Herbie report.</figcaption>
  </figure>

  <h2 id="graph">Error graph</h2>

  <p>
    Third, under <em>Error</em>, a graph of floating-point error
    versus input value. This is helpful for understanding the sorts of
    inputs Herbie is improving accuracy on. Sometimes, Herbie improved
    accuracy on some inputs at the cost of accuracy on other inputs
    that you care more about. In these cases, you can add
    a <a href="input.html#preconditions"><code>:pre</code>condition</a>
    to restrict the inputs Herbie reasons about.
  </p>

  <p>
    On these graphs, the red line is the error of the input program,
    while the blue line is the error of the output program
    (both can be toggled).
    For expressions with multiple variables,
    the variable on the horizontal axis can be selected.
    If Herbie decided to insert
    an <code>if</code> statement into the program,
    the locations of those <code>if</code> statements
    will be marked with vertical bars.
  </p>

  <figure>
    <img width="100%" src="report-error.png" />
    <figcaption>An error graph from a Herbie report. Note the variable
    selector (<code>x</code> is selected) and the toggles for the
    input and output program (both are toggled on).</figcaption>
  </figure>

  <h2 id="try-it">Interactive inputs</h2>

  <p>
    Fourth, a form where you can try out specific inputs on the input
    program and Herbie's output program. Enter the argument values on
    the left, and the input and output programs will be evaulated on
    those arguments and the results printed on the right.
  </p>

  <figure>
    <img width="100%" src="report-try-it.png" />
    <figcaption>
      Try it out section on a simple program.
    </figcaption>
  </figure>

  <h2 id="derivation">Derivation</h2>

  <p>Fifth, a derivation of the output from the input.
    For complex or unexpected programs, these can be helpful.
    Each substantive step in the derivation also lists the error,
    in bits, of that step's output.</p>

  <p>The derivations may name rules built into Herbie,
    or may claim derivation steps are done by simplification,
    series expansion, or other Herbie strategies. The derivation will
    also call out splits of the input into regimes, and strategies
    Herbie is invoking. When one part of the term is colored blue,
    that is the only part of the term modified by the operation.
  </p>

  <figure>
    <img width="100%" src="report-derivation.png" />
    <figcaption>A short derivation from a Herbie report. Note the
    error at each step, in bits, in gray.</figcaption>
  </figure>

  <h2 id="reproduction">Reproduction</h2>

  <p>Sixth, a command you can use to reproduce this Herbie result.
  If you find a bug, include the code snippet in this section when
  <a href="https://github.com/uwplse/herbie/issues">filing the
  bug</a>. Please also include the debug log linked at the top of the
  page.</p>

  <figure>
    <img width="100%" src="report-reproduce.png" />
    <figcaption>Reproduction information for a Herbie run.</figcaption>
  </figure>

  <h2 id="links">Additional links</h2>
  
  <p>The top of the page has a right-hand menu bar with additional
  links. “Log” you to a detailed debug log. “Profile” gives
  a <code>gprof</code>-style profile. and “Metrics” gives detailed
  internal metrics on Herbie's results.</p>

  <p>We expect the report to grow more informative with future
  versions. Please <a href="mailto:herbie@cs.washington.edu">get in
  touch</a> if there is more information you'd like to see.</p>

</body>
</html>
